# ========================================
# BACKEND ENVIRONMENT VARIABLES
# Copy this to .env and fill in your values
# ========================================

# Port the server runs on (default 1230)
PORT=1230

# ========================================
# DATABASE CONFIG
# ========================================
# Supabase PostgreSQL connection string
# Get this from: Project Settings > Database > Connection pooling > Connection string
# Make sure to use the pooling URL for better performance!
DATABASE_URL=your_database_connection_string_here

# ========================================
# AUTHENTICATION
# ========================================
# JWT Secret - CHANGE THIS IN PRODUCTION!
# Generate a secure random string:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_jwt_secret_key_minimum_32_characters_change_in_production

# ========================================
# CORS SETUP
# ========================================
# Where your frontend is hosted (allows API requests from this domain)
# Dev: http://localhost:2340
# Prod: https://your-app.vercel.app
FRONTEND_URL=http://localhost:2340

# ========================================
# ENVIRONMENT
# ========================================
# Use 'production' when deploying to Render
NODE_ENV=development

# ========================================
# EMAIL (Optional - for notifications)
# ========================================
# If you want to send email notifications/reminders
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_gmail_app_password
ADMIN_EMAIL=admin@hannan.com

# ========================================
# SUPABASE (For image uploads)
# ========================================
# Get these from your Supabase dashboard:
# Settings > API > Project URL
SUPABASE_URL=https://your-project-id.supabase.co

# Settings > API > service_role key (keep this SECRET!)
# This gives full admin access to your database and storage
SUPABASE_SERVICE_KEY=your-supabase-service-role-key-here

# Storage bucket name - create this in Supabase Storage first
# Don't forget to make it public so images can be accessed!
SUPABASE_STORAGE_BUCKET=goat-images

# ========================================
# DEPLOYMENT CHECKLIST
# ========================================
# ✅ Create 'goat-images' bucket in Supabase Storage (make it public)
# ✅ Update FRONTEND_URL to your Vercel domain
# ✅ Use connection pooling URL for DATABASE_URL
# ✅ Generate a strong JWT_SECRET
# ✅ Set NODE_ENV=production on Render
# ✅ Run database setup: npm run db:setup
# 
# Note: Images are stored as URLs in Supabase Storage for better performance

